---
layout: post
title: 2018，新的开始
date: 2018-02-28 14:00:00 +0800
description: 我的第一篇博客. # Add post description (optional)
img: 20180228/20180228-1.jpg # Add image post (optional)
tags: [杂记] # add tag
---

这一周是狗年后上班的第一周，整个人还在调整状态中，加之有些感冒发烧，工作几天下来如同梦游。

今年是我做开发的第三年了，从一个什么都不懂的小白开始接触iOS开发，两年iOS开发中，经历了2个商业项目，一个7个月，一个一年半。从中还是学到了很多东西，开发也变得得心应手了。特别是第二个项目，前前后后经历过2次大的调整，基本每次调整都等于重构。从第一个版本的以家庭圈为主的健康数据管理，到第二个版本的以存储健康档案为主的档案管理，再到后来的以私人健康教练的主的健康养成。三个不同的阶段，相当于做了三个不同的APP。

从无到有，也接触了很多东西，如UI搭建方式的选型，考虑是用纯代码、storyboard还是xib，最后选用纯代码写UI也是考虑到后期维护和可扩展性大。还有iOS端数据的存储设计，是选用CoreData还是sqlite3或是FMDB，虽说都是基于sqlite，sqlite3直接排除，原因就是操作复杂。最后还是选择了FMDB做本地数据的操作，其实当时选这个主要就是为了更熟悉sql语句。项目中遇到的最大的UI的问题还是绘制动态折线图，还要在折线部分绘制阴影，也就是这样

![截图1]({{site.baseurl}}/assets/img/20180228/20180228-2.jpg)

当时的第一反应就是找个能画折线图的开源库，再随便填几个数据就ok了，结果当时找了很久也没有满足需求的。求人不如求己，那就自己写吧。静下心来思考，其实也不难，也就是先用QuartzCore或UIBezierPath画出图表基准线。再根据数据绘制N个点，然后再按点的位置画一条折线出来，绘制简单的折线也就是这个思路。下面的阴影则是根据折线路径画的多边形，再用阴影填充就达到效果了。

